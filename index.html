<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas FinanÃ§as Pro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’° Controle Financeiro Pro</h1>
            <p>Gerencie suas finanÃ§as de forma inteligente e eficiente</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <h3>ğŸ’³ Saldo Atual</h3>
                <div class="amount balance" id="balance">R$ 0,00</div>
                <div class="trend" id="balanceTrend">Calculando...</div>
            </div>
            <div class="stat-card">
                <h3>ğŸ“ˆ Receitas Totais</h3>
                <div class="amount income" id="income">R$ 0,00</div>
                <div class="trend" id="incomeTrend">Este mÃªs</div>
            </div>
            <div class="stat-card">
                <h3>ğŸ“‰ Gastos Totais</h3>
                <div class="amount expense" id="expenses">R$ 0,00</div>
                <div class="trend" id="expensesTrend">Este mÃªs</div>
            </div>
            <div class="stat-card">
                <h3>ğŸ“Š Meta Mensal</h3>
                <div class="amount" id="monthlyGoal" style="color: #8b5cf6;">R$ 0,00</div>
                <div class="trend" id="goalProgress">Definir meta</div>
                <div class="progress-bar-container">
                    <div id="goalProgressBar" class="progress-bar"></div>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <h2>ğŸ“ˆ Seus GrÃ¡ficos Financeiros</h2>
            <div class="charts-grid">
                <div class="chart-container">
                    <p class="chart-title">Receitas vs. Despesas</p>
                    <canvas id="balanceChart"></canvas>
                </div>
                <div class="chart-container">
                    <p class="chart-title">Gastos por Categoria</p>
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="panel">
                <h2>â• Nova TransaÃ§Ã£o</h2>
                <form id="transactionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="description">DescriÃ§Ã£o</label>
                            <input type="text" id="description" placeholder="Ex: SalÃ¡rio, Supermercado..." required>
                        </div>
                        <div class="form-group">
                            <label for="amount">Valor (R$)</label>
                            <input type="number" id="amount" step="0.01" placeholder="0,00" required min="0.01">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="type">Tipo</label>
                            <select id="type" required>
                                <option value="">Selecione o tipo</option>
                                <option value="income">ğŸ’° Receita</option>
                                <option value="expense">ğŸ’¸ Gasto</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="category">Categoria</label>
                            <select id="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="salario">ğŸ’¼ SalÃ¡rio</option>
                                <option value="freelance">ğŸ’» Freelance</option>
                                <option value="investimento">ğŸ“ˆ Investimentos</option>
                                <option value="alimentacao">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                                <option value="transporte">ğŸš— Transporte</option>
                                <option value="moradia">ğŸ  Moradia</option>
                                <option value="saude">âš•ï¸ SaÃºde</option>
                                <option value="educacao">ğŸ“š EducaÃ§Ã£o</option>
                                <option value="lazer">ğŸ¬ Lazer</option>
                                <option value="compras">ğŸ›ï¸ Compras</option>
                                <option value="servicos">ğŸ”§ ServiÃ§os</option>
                                <option value="outros">ğŸ“ Outros</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group form-group-full">
                            <label for="notes">ObservaÃ§Ãµes (opcional)</label>
                            <textarea id="notes" placeholder="Adicione detalhes sobre esta transaÃ§Ã£o..." rows="2"></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn">
                        <span id="btnText">Adicionar TransaÃ§Ã£o</span>
                    </button>
                </form>
            </div>

            <div class="panel">
                <h2>ğŸ¯ Metas & AÃ§Ãµes</h2>
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div class="form-group">
                        <label for="goalInput">Meta de Economia Mensal (R$)</label>
                        <input type="number" id="goalInput" placeholder="Ex: 1000" step="0.01" min="0">
                    </div>
                    <button class="btn btn-secondary" onclick="app.setGoal()">ğŸ¯ Definir Meta</button>
                    <button class="btn" onclick="app.exportData()">ğŸ“„ Exportar Dados</button>
                    <button class="btn btn-danger" onclick="app.clearAllData()">ğŸ—‘ï¸ Limpar Tudo</button>
                </div>
                
                <div class="info-box">
                    <strong>Total de transaÃ§Ãµes:</strong> <span id="totalCount">0</span><br>
                    <strong>Ãšltima atualizaÃ§Ã£o:</strong> <span id="lastUpdate">Nunca</span><br>
                    <strong>PerÃ­odo ativo:</strong> <span id="activePeriod">-</span>
                </div>
            </div>
        </div>

        <div class="transactions">
            <h2>
                ğŸ“‹ HistÃ³rico de TransaÃ§Ãµes
                <span style="font-size: 0.9rem; font-weight: normal; color: #718096;" id="transactionCount">0 transaÃ§Ãµes</span>
            </h2>
            
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="ğŸ” Pesquisar transaÃ§Ãµes...">
            </div>

            <div class="filters">
                <label>Filtrar por:</label>
                <select id="filterType">
                    <option value="all">Todos os tipos</option>
                    <option value="income">Apenas receitas</option>
                    <option value="expense">Apenas gastos</option>
                </select>
                <select id="filterCategory">
                    <option value="all">Todas as categorias</option>
                    <option value="salario">SalÃ¡rio</option>
                    <option value="freelance">Freelance</option>
                    <option value="investimento">Investimentos</option>
                    <option value="alimentacao">AlimentaÃ§Ã£o</option>
                    <option value="transporte">Transporte</option>
                    <option value="moradia">Moradia</option>
                    <option value="saude">SaÃºde</option>
                    <option value="educacao">EducaÃ§Ã£o</option>
                    <option value="lazer">Lazer</option>
                    <option value="compras">Compras</option>
                    <option value="servicos">ServiÃ§os</option>
                    <option value="outros">Outros</option>
                </select>
                <select id="filterPeriod">
                    <option value="all">Todos os perÃ­odos</option>
                    <option value="today">Hoje</option>
                    <option value="week">Esta semana</option>
                    <option value="month">Este mÃªs</option>
                    <option value="year">Este ano</option>
                </select>
                <button class="btn btn-small" onclick="app.clearFilters()">Limpar Filtros</button>
            </div>
            
            <div id="transactionList" class="transaction-list">
                <div class="empty">
                    <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ“</div>
                    Nenhuma transaÃ§Ã£o registrada ainda.<br>
                    Adicione sua primeira transaÃ§Ã£o acima!
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>